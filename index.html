<html>
<head>
	<meta charset="utf-8">
	
	<meta name="viewport" content="user-scalable=1.0,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="format-detection" content="telephone=no">

	<script type="text/javascript" src="jquery-2.0.0.min.js"></script>
	<script type="text/javascript" src="jquery.hammer.js"></script>
	<script type="text/javascript" src="jquery.transit.js"></script>

	<script type="text/javascript" src="jq.extend.js"></script>
	<script type="text/javascript" src="events.js"></script>
	<script type="text/javascript" src="draggable.js"></script>
	<script type="text/javascript" src="scroller.js"></script>


	<script type="text/javascript" src="scenario.js"></script>
	<script type="text/javascript" src="puzzle.js"></script>
	<script type="text/javascript" src="delay.js"></script>
	
	<script type="text/javascript" src="game.js"></script>

	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/scroller.css">

</head>

<style>
	.targeted{
		background-color: rgba(255,200,200,0.7);
	}

	.game{
		position: absolute;
		top: 0px;
		left: 0px;
		width: 100%;
		height: 100%;
		overflow: hidden;
	}	
	
	.puzzle{
		position: absolute;
		left: 0px;
		top: 0px;
		width: 100%;
		height: 100%;
	}


	.piece, .slot{
		z-index: 100;
	}
	
	.piece{
		z-index: 101;
		/*background-color: rgba(255,200,200,0.5);*/
	}

	.piece img, .slot img{
		width: 100%;
		height: 100%;
	}

	


	#puzzle-1{
		width: 100%;
		height: 100%;
		top: 0%;
		left: 0%;
	}


	#pipo,#ukko-head{
		width: 220px;
		height: 300px;
	}

	#heijastin, #ukko-heijastin{
		width: 64px;
		height: 128px;
	}

	#kengat, #ukko-jalat{
		width: 128px;
		height: 64px;
	}

	#takki,#ukko-torso{
		width: 192px;
		height: 200px;
	}

	#puku-ukko{
		position: absolute;
		right: calc(50% - 172px);
		bottom: 0px;
	}

	.ukko-container{
		position: absolute;

		width: 400px;
		height: 400px;
	
		top: calc(50% - 200px);
		left: calc(50% - 200px);

	}

	.ukko{		
		top: 50px;
		width: 345px;
		height: 392px;
	}

	.ukko>div{
		border: 1px solid #d00;
	}

	#ukko-head{
		position: absolute;
		left:calc(50% - 110px);
		top: -50px;
	}

	#ukko-heijastin{
		position: absolute;
		bottom: 8px;
		right: 55%;
	}


	#puzzle-2 .piece, #puzzle-2 .slot{
		width: 200px;
		height: 200px;
		border: 1px solid #d00;
		display: inline-block;
		position: relative;
	}

	#puzzle-2 .slot{
		position: absolute;
		border: 1px solid #0d0;
	}

	#p2-slot-1{
		left: 25%;
		top: 25%;
	}

	#p2-slot-2{
		left: calc(25% + 202px);
		top: 25%;
	}

	#p2-slot-3{
		top: calc(25% + 202px);
		left: 25%;
	}

	#p2-slot-4{
		top: calc(25% + 202px);
		left: calc(25% + 202px);
	}

	.road{
		width: 20%;
		height: 100%;
		position: absolute;
		left: 30%;
		top: 0%;
		background-color: #444;
	}


</style>
<script type="text/javascript">
	
$(function(){
		document.body.addEventListener('touchmove',function(event){event.preventDefault()});
	var g = new game('#game-1');

});


</script>
<body>
	<div id="wrapper">



		<div id="game-1" class="game">	
	
			<!--

					puzzle scenario

						scenario -> puzzle defines this container as a puzzle game
						puzzle contains pieces (class="piece") which have target slots where
						they fit in, defined by selector in "target" attribute

						puzzle slots (class="slot") are the target slots for pieces.

						id:s must be unique, and must be present in each slot and piece.



						example:

						define the puzzle

						<div id="puzzle-1" class="scenario puzzle">

							define piece-1 to fit into slot-1:
								<div class="piece" id="piece-1" target="slot-1"></div>
							
							define the slot for piece-1
								<div class="slot" id="slot-1"></div>

						</div>

						
			-->
	
			<div id="puzzle-1" class="scenario puzzle shuffle" name="pukeutuminen">
				
				<!--
				<div class="piece" id="kengat" target="#ukko-jalat"></div>
				<div class="piece" id="takki" target="#ukko-torso"></div>
				-->

				<div class="ukko-container">				
					<div id="puku-ukko" class="ukko">

						<img src="img/ukko_vihrea.png" style="width:100%;height:100%;" alt="">
		


						<div class="slot" id="ukko-head"></div>
						<div class="slot" id="ukko-heijastin"></div>
					</div>								

				</div>
				<div class="piece" id="pipo" target="#ukko-head">
					<img src="img/kypara.png" alt="">
				</div>
				
				<div class="piece" id="heijastin" target="#ukko-heijastin">
					<img src="img/heijastin.png" alt="">
				</div>
				
				<!-- 
				<div class="slot" id="ukko-torso"></div>
				<div class="slot" id="ukko-jalat"></div>
					-->						
			</div>

				<!--
			
						delay scenario


							scenario stays at the screen for specified amount of time

							time delay is specified in attribute "delay" as milliseconds
							(1000 = 1 second)

				-->
			
			<div id="puzzle-18778678" class="scenario delay" delay="3000" name="pojotus">
				

				<div id="puku-ukko" class="ukko">

					<img src="img/ukko_vihrea.png" style="width:100%;height:100%;" alt="">
				</div>								
			</div>


			<div id="puzzle-2" class="scenario puzzle shuffle" name="liikennevalo">
				<div class="piece" id="3-piece-1" target="#p2-slot-1">
					<img src="img/valo_top_left.png" alt="">
				</div>
				<div class="piece" id="3-piece-2" target="#p2-slot-2">
					<img src="img/valo_top_right.png" alt="">
				</div>
				<div class="piece" id="3-piece-3" target="#p2-slot-3">
					<img src="img/valo_bottom_left.png" alt="">
				</div>
				<div class="piece" id="3-piece-4" target="#p2-slot-4">
					<img src="img/valo_bottom_right.png" alt="">
				</div>
				
					<div class="slot " id="p2-slot-1"></div>
					<div class="slot " id="p2-slot-2"></div>
					<div class="slot " id="p2-slot-3"></div>
					<div class="slot " id="p2-slot-4"></div>	

			</div>

			<div id="puzzle-3" class="scenario puzzle" name="tien ylitys">
				
				<div class="piece ukko" id="2-piece-1" target="#2-slot-1">
					<img src="img/ukko_vihrea.png" style="width:100%;height:100%;" alt="">					
				</div>
				<div class="slot" id="2-slot-1" style="width:30%;height:50%;right:0px;bottom:30%">
					<img src="img/koulu.png" style="width:100%;height:100%;" alt="">					
				</div>

				<div class="road">

				</div>				

			</div>
		</div>





	</div>
</body>
</html>